<!doctype html>
<html>
<head>
	<title>transition</title>
	<meta charset="utf-8">
	<style>
		*{padding: 0; margin: 0;}
		html, body{height: 100%; overflow: hidden;}
		.page-box{transition: all 800ms;}
		.right{float: right;}
		.box-red, .box-yellow, .box-green{width: 100%; height: 800px;}
		.box-red{background-color: red;}
		.box-yellow{background-color: yellow;}
		.box-green{background-color: green;}
		.big-text{display: inline-block; font-size: 3rem; color: #fff; transition: all 800ms;}
		.black{color: #000;}
		.opt-0{opacity: 0;}
	</style>
</head>
<body>
	<!-- 没做兼容，请用最新版Chrome浏览器 -->
	<div id="page" class="page-box">
		<div class="box-red">
			<span id="text1" class="big-text">Please use Chrome <br>Just Scroll Down ↓</span>
		</div>

		<div class="box-yellow">
			<span id="text2" class="big-text black opt-0">Hello World</span>
		</div>

		<div class="box-green">
			<span id="text3" class="big-text right">Another Word</span>
		</div>
	</div>

	<script>
		var page = document.getElementById('page');
		var text1 = document.getElementById('text1');
		var text2 = document.getElementById('text2');
		var text3 = document.getElementById('text3');

		window.onload = function(){
			setTimeout(function(){
				text1.style.marginLeft = 500 + "px";
			}, 1000)
		};

		var y = 0; // translate3d的y值

		document.addEventListener('mousewheel', scroll, false);

		function scroll(event){

			if(y == 0 && event.wheelDelta > 0 || y == -1600 && event.wheelDelta < 0){

				// 超出滚动范围时阻止事件
				stopWheel(event);

			}else{

				if(event.wheelDelta < 0){ // 如果向下滚
					y -= 800;
					startScroll(y, event);

				}else if(event.wheelDelta > 0){ // 如果向上滚
					y += 800;

					startScroll(y, event);
				}
			}

			stopWheel(event);

		}

		function startScroll(y, event){
			var ev = event;
			page.style.transform = "translate3d(0, "+ y +"px,0)";
					
			document.removeEventListener('mousewheel', scroll, false); // 防止动画期间页面滚动
			document.addEventListener('mousewheel', stopWheel, false);

			// 等待翻页动画完成
			setTimeout(function(){
				if(y == -800 && ev.wheelDelta < 0){
					text2.style.marginLeft = 500 + "px";
					text2.style.opacity = 1;
				}else if(y == -800 && ev.wheelDelta > 0){
					text2.style.marginLeft = 0 + "px";
					text2.style.opacity = 0;
				}

				if(y == -1600 && ev.wheelDelta < 0){
					text3.style.marginRight = 500 + "px";
				}else{
					text3.style.marginRight = 0 + "px";
				}

				// 等待文字滑动效果完成
				setTimeout(function(){
					document.removeEventListener('mousewheel', stopWheel, false);
					document.addEventListener('mousewheel', scroll, false);
				}, 800);

			}, 800);

		}

		// 阻止滚动事件
		function stopWheel(event){
			if(event.preventDefault){
				event.preventDefault();
			}else{
				return false;
			}
		}
	</script>
</body>
</html>